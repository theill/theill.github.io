{"id":3410,"date":"2010-08-18T00:00:00","date_gmt":"2010-08-17T22:00:00","guid":{"rendered":"http:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/"},"modified":"2010-08-18T00:00:00","modified_gmt":"2010-08-17T22:00:00","slug":"upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes","status":"publish","type":"post","link":"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/","title":{"rendered":"Upgraded ShoutSMS from Rails 2.3.8 to Rails 3 in five minutes"},"content":{"rendered":"<p>Today I wanted to try how easy it would be to upgrade our existing <a href=\"http:\/\/shoutsms.commanigy.com\">ShoutSMS<\/a> (pretty small) rails application from 2.3.8 to latest Rails 3 release candidate (currently rc3). Without taking our test suite into consideration it took around five minutes with help from the official rails_upgrade[1] plugin. This is fast, yes, but considering the size of this app and possible pitfalls I am not looking forward to upgrade our larger projects.<\/p>\n<p>These are the basic steps to perform<\/p>\n<ul>\n<li>Install <a href=\"http:\/\/github.com\/rails\/rails_upgrade\">rails_upgrade<\/a> in my 2.3.8 project using &#8220;.\/script\/plugin install http:\/\/github.com\/rails\/rails_upgrade&#8221;<\/li>\n<li>Run rake tasks installed with plugin to check what steps are required with &#8220;rake rails:upgrade:check&#8221;<\/li>\n<li>Run &#8220;rake rails:upgrade:backup&#8221; to backup some files which will be override shortly<\/li>\n<li>Run &#8220;rake rails:upgrade:configuration >> upgrade_configuration&#8221;<\/li>\n<li>Run &#8220;rake rails:upgrade:gems >> upgrade_gems&#8221;<\/li>\n<li>Run &#8220;rake rails:upgrade:routes >> upgrade_routes&#8221;<\/li>\n<li>Create new Rails 3 app above your existing one with &#8220;rails n .&#8221;<\/li>\n<li>Check each of your files before overriding &#8211; not all are backed up with the backup task<\/li>\n<li>Copy back in your changes and refer to the three &#8220;upgrade_*&#8221; files for updated configuration, gems and routes syntax<\/li>\n<\/ul>\n<p>This did most of the work for me. I needed to patch a bit in my new &#8220;application.rb&#8221; file (e.g. replace RAILS_ROOT with Rails.root, RAILS_ENV with Rails.env, etc).<\/p>\n<p>Notice, the rails_upgrade plugin might suggest to change &#8220;<code><% @object.each do |p| %><\/code>&#8221; blocks to &#8220;<code><%= @object.each do |p| %><\/code>&#8221; but I don&#8217;t see this should be done.<\/p>\n<p>I needed to upgrade ActiveMerchant but it was a simple<\/p>\n<pre><code>$ gem update activemerchant\n<\/code><\/pre>\n<p>and then patch my Gemfile with correct version<\/p>\n<pre><code>gem 'activemerchant', '1.7.1', :require => 'active_merchant'\n<\/code><\/pre>\n<p>It was also needed to go through each ERb and update block helpers. Rake task &#8220;rake rails:upgrade:check&#8221; can be used multiple times to check if you&#8217;re near the end.<\/p>\n<p>I had a couple of &#8220;f.error_messages&#8221; warnings as well. It&#8217;s suggested to install &#8220;rails plugin install git:\/\/github.com\/rails\/dynamic_form.git&#8221; but I made a partial instead to have complete control over my displayed error messages.<\/p>\n<p>For more general upgrade tips &#038; tricks you might consider viewing <a href=\"http:\/\/railscasts.com\/episodes\/225-upgrading-to-rails-3-part-1\">part 1<\/a>, <a href=\"http:\/\/railscasts.com\/episodes\/226-upgrading-to-rails-3-part-2\">part 2<\/a> and <a href=\"http:\/\/railscasts.com\/episodes\/227-upgrading-to-rails-3-part-3\">part 3<\/a> of the &#8220;Upgrading to Rails 3&#8221; Railscasts series.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Today I wanted to try how easy it would be to upgrade our existing ShoutSMS (pretty small) rails application from 2.3.8 to latest Rails 3 release candidate (currently rc3). Without taking our test suite into consideration it took around five minutes with help from the official rails_upgrade[1] plugin. This is fast, yes, but considering the &hellip; <a href=\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/\" class=\"more-link\">Continue reading <span class=\"screen-reader-text\">Upgraded ShoutSMS from Rails 2.3.8 to Rails 3 in five minutes<\/span><\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"amp_status":"","spay_email":"","jetpack_publicize_message":""},"categories":[1],"tags":[],"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v14.8 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Upgraded ShoutSMS from Rails 2.3.8 to Rails 3 in five minutes &bull; Peter Theill Site<\/title>\n<meta name=\"robots\" content=\"index, follow\" \/>\n<meta name=\"googlebot\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<meta name=\"bingbot\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Upgraded ShoutSMS from Rails 2.3.8 to Rails 3 in five minutes &bull; Peter Theill Site\" \/>\n<meta property=\"og:description\" content=\"Today I wanted to try how easy it would be to upgrade our existing ShoutSMS (pretty small) rails application from 2.3.8 to latest Rails 3 release candidate (currently rc3). Without taking our test suite into consideration it took around five minutes with help from the official rails_upgrade[1] plugin. This is fast, yes, but considering the &hellip; Continue reading Upgraded ShoutSMS from Rails 2.3.8 to Rails 3 in five minutes\" \/>\n<meta property=\"og:url\" content=\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/\" \/>\n<meta property=\"og:site_name\" content=\"Peter Theill Site\" \/>\n<meta property=\"article:published_time\" content=\"2010-08-17T22:00:00+00:00\" \/>\n<meta name=\"twitter:card\" content=\"summary\" \/>\n<meta name=\"twitter:creator\" content=\"@theill\" \/>\n<meta name=\"twitter:site\" content=\"@theill\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebSite\",\"@id\":\"https:\/\/www.theill.com\/#website\",\"url\":\"https:\/\/www.theill.com\/\",\"name\":\"Peter Theill Site\",\"description\":\"What\\u2019s going on in the personal life of Peter Theill\",\"publisher\":{\"@id\":\"https:\/\/www.theill.com\/#\/schema\/person\/d65d009363af2cc0a150b55dc20fa301\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"https:\/\/www.theill.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/#webpage\",\"url\":\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/\",\"name\":\"Upgraded ShoutSMS from Rails 2.3.8 to Rails 3 in five minutes &bull; Peter Theill Site\",\"isPartOf\":{\"@id\":\"https:\/\/www.theill.com\/#website\"},\"datePublished\":\"2010-08-17T22:00:00+00:00\",\"dateModified\":\"2010-08-17T22:00:00+00:00\",\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/\"]}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/#webpage\"},\"author\":{\"@id\":\"https:\/\/www.theill.com\/#\/schema\/person\/d65d009363af2cc0a150b55dc20fa301\"},\"headline\":\"Upgraded ShoutSMS from Rails 2.3.8 to Rails 3 in five minutes\",\"datePublished\":\"2010-08-17T22:00:00+00:00\",\"dateModified\":\"2010-08-17T22:00:00+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/#webpage\"},\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/www.theill.com\/#\/schema\/person\/d65d009363af2cc0a150b55dc20fa301\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/www.theill.com\/blog\/2010\/08\/18\/upgraded-shoutsms-from-rails-2-3-8-to-rails-3-in-five-minutes\/#respond\"]}]},{\"@type\":[\"Person\",\"Organization\"],\"@id\":\"https:\/\/www.theill.com\/#\/schema\/person\/d65d009363af2cc0a150b55dc20fa301\",\"name\":\"Peter\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/www.theill.com\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/f4f96a08152550e603ee595403f3ba57?s=96&d=retro&r=g\",\"caption\":\"Peter\"},\"logo\":{\"@id\":\"https:\/\/www.theill.com\/#personlogo\"}}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","jetpack_shortlink":"https:\/\/wp.me\/p8TYI1-T0","jetpack-related-posts":[{"id":3417,"url":"https:\/\/www.theill.com\/blog\/2009\/03\/16\/upgrading-rails-engines-project-to-rails-2-3-2\/","url_meta":{"origin":3410,"position":0},"title":"Upgrading Rails Engines Project to Rails 2.3.2","date":"March 16, 2009","format":false,"excerpt":"My lifestyleapps project (still in very early beta) was running Rails 2.2.2 with the Rails Engines plugin ten minutes ago. Today, Rails 2.3.2 was released so I decided to try if I could easily upgrade it and avoid using the Rails Engines plugin anymore. It was beautiful simple and took\u2026","rel":"","context":"In &quot;development&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":4,"url":"https:\/\/www.theill.com\/blog\/2017\/05\/17\/shoutsms-sms-to-hundreds-of-people\/","url_meta":{"origin":3410,"position":1},"title":"ShoutSMS updated to latest Rails version","date":"May 17, 2017","format":false,"excerpt":"I just upgraded my\u00a0ShoutSMS service since Microsoft chose to use it for their Microsoft Inspire event this summer. It's a great project allowing people to send out bulk sms using their own phone number. It's a nice feature if you want to get immediate feedback on dispatched messages such as\u2026","rel":"","context":"In \"bulksms\"","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":3408,"url":"https:\/\/www.theill.com\/blog\/2010\/08\/25\/lesson-learned-put-limits-on-anything-you-provide-for-free\/","url_meta":{"origin":3410,"position":2},"title":"Lesson learned: Put limits on anything you provide for free","date":"August 25, 2010","format":false,"excerpt":"With our ShoutSMS service, we provide three free sms credits just for signing up. We do this to allow new users to try our service, without having to buy initial credits, just after they sign up. After initial launch, we almost immediately got people from India hitting our servers. They\u2026","rel":"","context":"Similar post","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":3402,"url":"https:\/\/www.theill.com\/blog\/2011\/04\/25\/use-sensible-defaults-when-building-a-web-mobile-or-desktop-application\/","url_meta":{"origin":3410,"position":3},"title":"Use sensible defaults when building a web, mobile or desktop application","date":"April 25, 2011","format":false,"excerpt":"While working on migrating \u201cgomore.dk\u201d, a Danish ridesharing service, to Rails 3, I figured it would make sense to look into the existing database to figure out if I could add some sensible defaults when creating e.g. new rides. The site already contains a decent database so I figured it\u2026","rel":"","context":"Similar post","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":3411,"url":"https:\/\/www.theill.com\/blog\/2010\/08\/16\/how-to-send-mass-text-messages-from-your-own-number\/","url_meta":{"origin":3410,"position":4},"title":"How to send mass text messages from your own number","date":"August 16, 2010","format":false,"excerpt":"A couple of months ago we needed to make a service which would be able to send out sms text messages to a large number of people. The text message itself should come from a specific number so recipients would be able to reply back for more information. Another requirement\u2026","rel":"","context":"Similar post","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]},{"id":3418,"url":"https:\/\/www.theill.com\/blog\/2009\/03\/12\/extend-your-shell-toolbox-with-pbcopy\/","url_meta":{"origin":3410,"position":5},"title":"Extend your shell toolbox with pbcopy","date":"March 12, 2009","format":false,"excerpt":"I'm developing Rails applications on Mac and a command which isn\u2019t used enough in my opinion is \u201cpbcopy\u201d. This command will allow you to grab the standard input from a terminal and put it on the clipboard. I find myself using commands such as \u201cpwd | pbcopy\u201d a lot. This\u2026","rel":"","context":"In &quot;development&quot;","img":{"alt_text":"","src":"","width":0,"height":0},"classes":[]}],"jetpack_likes_enabled":true,"amp_validity":null,"_links":{"self":[{"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/posts\/3410"}],"collection":[{"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/comments?post=3410"}],"version-history":[{"count":0,"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/posts\/3410\/revisions"}],"wp:attachment":[{"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/media?parent=3410"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/categories?post=3410"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.theill.com\/wp-json\/wp\/v2\/tags?post=3410"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}